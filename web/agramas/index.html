<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agramas - Jelajahi Nusantara</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .gradient-red { background: linear-gradient(135deg, #e11d48 0%, #be123c 100%); }
        .seat-booked { background-color: #e2e8f0; cursor: not-allowed; opacity: 0.5; }
        .seat-selected { background-color: #e11d48 !important; color: white; border-color: #be123c; transform: scale(1.1); }
        .seat-available { background-color: white; border: 2px solid #e2e8f0; cursor: pointer; }
        .seat-available:hover { border-color: #e11d48; }
        [x-cloak] { display: none !important; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900" x-data="busTicketing()">
    
    <nav class="fixed top-4 left-0 right-0 z-50 flex justify-center px-4">
        <div class="bg-white/90 backdrop-blur-lg border border-white/20 shadow-2xl rounded-[2.5rem] w-full max-w-5xl h-20 flex items-center justify-between px-8 transition-all duration-500 hover:shadow-rose-100 hover:border-rose-100">
            <div class="flex items-center gap-2 cursor-pointer" @click="window.location.reload()">
                <div class="w-10 h-10 gradient-red rounded-xl flex items-center justify-center shadow-lg shadow-rose-200">
                    <span class="text-white font-bold text-xl">A</span>
                </div>
                <span class="font-extrabold text-2xl tracking-tighter text-rose-600 hidden sm:block">AGRAMAS</span>
            </div>
            <div class="hidden md:flex items-center gap-8 font-bold text-slate-500 text-sm tracking-wide">
                <a href="#" class="hover:text-rose-600 transition">Cek Tiket</a>
                <a href="#" class="hover:text-rose-600 transition">Promo</a>
                <a href="#" class="hover:text-rose-600 transition">Agen</a>
            </div>
            <button class="bg-slate-900 text-white px-7 py-2.5 rounded-full font-bold text-sm hover:bg-rose-600 transition-all shadow-lg">Login</button>
        </div>
    </nav>

    <header class="relative pt-32 pb-24 overflow-hidden" x-show="step === 'search'">
        <div class="max-w-6xl mx-auto px-4 relative z-10">
            <div class="text-center mb-12">
                <span class="inline-block py-1 px-4 rounded-full bg-rose-100 text-rose-600 font-bold text-sm mb-4 uppercase tracking-widest">Premium Travel Experience</span>
                <h1 class="text-5xl md:text-7xl font-extrabold mb-6 leading-tight">Jelajahi Kota <br><span class="text-rose-600">Tanpa Batas.</span></h1>
                <p class="text-slate-500 text-lg max-w-2xl mx-auto">Nikmati perjalanan nyaman dengan armada bus double decker terbaik dari Agramas.</p>
            </div>

            <div class="bg-white p-6 md:p-8 rounded-[2rem] shadow-2xl shadow-slate-200 border border-slate-100 max-w-5xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div>
                        <label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Asal</label>
                        <select x-model="searchAsal" class="w-full bg-slate-50 border-none rounded-2xl p-4 focus:ring-2 focus:ring-rose-500 font-semibold cursor-pointer">
                            <option value="">Pilih Kota Asal</option>
                            <option value="Jakarta">Jakarta</option>
                            <option value="Bogor">Bogor</option>
                            <option value="Tangerang">Tangerang</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Tujuan</label>
                        <select x-model="searchTujuan" class="w-full bg-slate-50 border-none rounded-2xl p-4 focus:ring-2 focus:ring-rose-500 font-semibold cursor-pointer">
                            <option value="">Pilih Kota Tujuan</option>
                            <option value="Solo">Solo</option>
                            <option value="Yogyakarta">Yogyakarta</option>
                            <option value="Wonogiri">Wonogiri</option>
                            <option value="Surabaya">Surabaya</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-400 uppercase mb-2 ml-1">Tanggal</label>
                        <input type="date" class="w-full bg-slate-50 border-none rounded-2xl p-4 focus:ring-2 focus:ring-rose-500 font-semibold">
                    </div>
                    <div class="flex items-end">
                        <button @click="findJadwal()" class="w-full gradient-red text-white font-bold py-4 rounded-2xl shadow-lg shadow-rose-300 hover:scale-[1.02] active:scale-95 transition-all">Cari Jadwal</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="absolute top-0 right-0 -z-10 w-1/2 h-full bg-rose-50 rounded-bl-[200px]"></div>
    </header>

    <main class="max-w-6xl mx-auto px-4 pb-24 min-h-[50vh]">
        
        <div x-show="step === 'results'" x-transition x-cloak class="pt-32">
            <button @click="step = 'search'" class="mb-6 font-bold text-slate-400 hover:text-rose-600">← Ubah Pencarian</button>
            <h2 class="text-2xl font-bold mb-8 italic">Hasil Pencarian <span class="text-rose-600" x-text="filteredSchedules.length"></span> Jadwal Tersedia</h2>
            <div class="space-y-6">
                <template x-for="item in filteredSchedules" :key="item.id">
                    <div class="bg-white rounded-3xl p-6 md:p-8 border border-slate-100 hover:border-rose-200 transition-all group shadow-sm hover:shadow-xl">
                        <div class="flex flex-col md:flex-row md:items-center gap-8">
                            <div class="md:w-1/4">
                                <span class="px-3 py-1 bg-rose-600 text-[10px] text-white font-bold rounded-md uppercase" x-text="item.class"></span>
                                <h3 class="text-xl font-extrabold mt-2" x-text="item.busName"></h3>
                            </div>
                            <div class="flex-1 flex items-center justify-between">
                                <div class="text-center">
                                    <p class="text-2xl font-black text-slate-800" x-text="item.depTime"></p>
                                    <p class="text-xs font-bold text-slate-400 uppercase" x-text="item.from"></p>
                                </div>
                                <div class="text-center opacity-30 px-4">
                                    <div class="w-16 h-[2px] bg-slate-300"></div>
                                </div>
                                <div class="text-center">
                                    <p class="text-2xl font-black text-slate-800" x-text="item.arrTime"></p>
                                    <p class="text-xs font-bold text-slate-400 uppercase" x-text="item.to"></p>
                                </div>
                            </div>
                            <div class="md:w-1/4 text-right">
                                <p class="text-3xl font-black text-slate-900 mb-4" x-text="formatIDR(item.price)"></p>
                                <button @click="goToSeats(item)" class="gradient-red text-white px-8 py-3 rounded-2xl font-bold shadow-lg">Pilih Kursi</button>
                            </div>
                        </div>
                    </div>
                </template>
            </div>
        </div>

        <div x-show="step === 'seats'" x-transition x-cloak class="pt-32">
            <button @click="step = 'results'" class="mb-8 font-bold text-slate-400 hover:text-rose-600">← Kembali ke Jadwal</button>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100 text-center">
                    <h3 class="text-xl font-black mb-8 italic text-rose-600">LAYOUT ARMADA</h3>
                    <div class="bg-slate-50 rounded-[3rem] p-8 max-w-sm mx-auto border-4 border-white shadow-inner">
                        <div class="flex justify-between mb-10 pb-4 border-b border-slate-200">
                            <div class="font-bold text-slate-300 text-xs">KEMUDI</div>
                            <div class="font-bold text-slate-300 text-xs">PINTU</div>
                        </div>
                        <div class="grid grid-cols-4 gap-4">
                            <template x-for="n in 24" :key="n">
                                <div class="flex justify-center items-center relative">
                                    <div x-show="n % 4 === 3" class="w-6 h-10"></div>
                                    <button @click="toggleSeat(n)" :disabled="bookedSeats.includes(n)"
                                        class="w-10 h-10 rounded-xl font-bold text-xs transition-all border-2"
                                        :class="bookedSeats.includes(n) ? 'seat-booked' : (selectedSeats.includes(n) ? 'seat-selected' : 'seat-available')"
                                        x-text="n"></button>
                                </div>
                            </template>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-[2.5rem] p-8 shadow-xl border border-slate-100">
                    <h4 class="text-xl font-black mb-6">Informasi Tiket</h4>
                    <div class="space-y-3 text-sm">
                        <div class="flex justify-between"><span class="text-slate-400 font-bold">Bus:</span> <span class="font-bold" x-text="selectedBus?.busName"></span></div>
                        <div class="flex justify-between"><span class="text-slate-400 font-bold">Rute:</span> <span class="font-bold" x-text="`${selectedBus?.from} - ${selectedBus?.to}`"></span></div>
                        <div class="flex justify-between"><span class="text-slate-400 font-bold">Kursi:</span> <span class="font-bold text-rose-600" x-text="selectedSeats.join(', ') || '-'"></span></div>
                    </div>
                    <div class="mt-8 pt-6 border-t border-dashed">
                        <p class="text-3xl font-black" x-text="formatIDR(selectedSeats.length * (selectedBus?.price || 0))"></p>
                    </div>
                    <button @click="step = 'payment'" :disabled="selectedSeats.length === 0" class="w-full mt-6 gradient-red text-white py-4 rounded-2xl font-bold shadow-lg disabled:opacity-30">Lanjut Pembayaran</button>
                </div>
            </div>
        </div>

        <div x-show="step === 'payment'" x-transition x-cloak class="pt-32">
            <button @click="step = 'seats'" class="mb-8 font-bold text-slate-400 hover:text-rose-600">← Kembali Pilih Kursi</button>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <div class="space-y-8">
                    <div class="bg-white rounded-[2rem] p-8 shadow-lg">
                        <h3 class="text-xl font-black mb-6">Data Pemesan</h3>
                        <div class="space-y-4">
                            <input type="text" placeholder="Nama Lengkap" class="w-full p-4 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-rose-500 outline-none font-semibold">
                            <input type="email" placeholder="Email (Untuk kirim e-tiket)" class="w-full p-4 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-rose-500 outline-none font-semibold">
                            <input type="tel" placeholder="Nomor WhatsApp" class="w-full p-4 bg-slate-50 rounded-2xl focus:ring-2 focus:ring-rose-500 outline-none font-semibold">
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-[2rem] p-8 shadow-lg">
                        <h3 class="text-xl font-black mb-6">Metode Pembayaran</h3>
                        <div class="grid grid-cols-1 gap-4">
                            <label class="flex items-center gap-4 p-4 border-2 border-slate-100 rounded-2xl cursor-pointer hover:border-rose-500 transition has-[:checked]:border-rose-600 has-[:checked]:bg-rose-50">
                                <input type="radio" name="pay" class="w-5 h-5 accent-rose-600">
                                <span class="font-bold">Transfer Virtual Account (BCA, Mandiri, BRI)</span>
                            </label>
                            <label class="flex items-center gap-4 p-4 border-2 border-slate-100 rounded-2xl cursor-pointer hover:border-rose-500 transition has-[:checked]:border-rose-600 has-[:checked]:bg-rose-50">
                                <input type="radio" name="pay" class="w-5 h-5 accent-rose-600">
                                <span class="font-bold">E-Wallet (GoPay, OVO, Dana, QRIS)</span>
                            </label>
                            <label class="flex items-center gap-4 p-4 border-2 border-slate-100 rounded-2xl cursor-pointer hover:border-rose-500 transition has-[:checked]:border-rose-600 has-[:checked]:bg-rose-50">
                                <input type="radio" name="pay" class="w-5 h-5 accent-rose-600">
                                <span class="font-bold">Gerai Retail (Indomaret, Alfamart)</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-900 text-white rounded-[2.5rem] p-8 shadow-2xl h-fit sticky top-32">
                    <h3 class="text-xl font-black mb-6">Konfirmasi Pembayaran</h3>
                    <div class="space-y-4 text-slate-400">
                        <div class="flex justify-between"><span>Tiket Bus x <span x-text="selectedSeats.length"></span></span> <span class="text-white font-bold" x-text="formatIDR(selectedSeats.length * (selectedBus?.price || 0))"></span></div>
                        <div class="flex justify-between"><span>Biaya Layanan</span> <span class="text-white font-bold">Rp 5.000</span></div>
                        <hr class="border-slate-700">
                        <div class="flex justify-between text-xl text-white font-black">
                            <span>Total</span>
                            <span class="text-rose-500" x-text="formatIDR((selectedSeats.length * (selectedBus?.price || 0)) + 5000)"></span>
                        </div>
                    </div>
                    <button @click="alert('Pesanan Diproses! Silakan cek email/WhatsApp Anda.')" class="w-full mt-10 gradient-red text-white py-5 rounded-[1.5rem] font-black text-lg hover:scale-[1.02] transition">BAYAR SEKARANG</button>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-slate-100 py-12 text-center">
        <p class="text-slate-400 font-medium">© 2026 PO Agramas Transport. <span class="text-rose-500 font-bold">#AyoNaikBus</span></p>
    </footer>

    <script>
        function busTicketing() {
            return {
                step: 'search', // 'search', 'results', 'seats', 'payment'
                searchAsal: '',
                searchTujuan: '',
                selectedBus: null,
                selectedSeats: [],
                bookedSeats: [2, 4, 11, 15, 16],
                allSchedules: [
                    { id: 1, busName: 'Agramas BM 092', from: 'Jakarta', to: 'Solo', depTime: '07:00', arrTime: '15:30', price: 235000, class: 'Executive', features: ['AC', 'Toilet', 'Leg Rest'] },
                    { id: 2, busName: 'Agramas Double Decker', from: 'Jakarta', to: 'Solo', depTime: '18:30', arrTime: '03:00', price: 350000, class: 'Super Double Decker', features: ['Meal', 'Entertainment'] },
                    { id: 5, busName: 'Agramas Suite Class', from: 'Jakarta', to: 'Solo', depTime: '20:00', arrTime: '04:30', price: 450000, class: 'Sleeper', features: ['Full Bed', 'Privacy'] },
                    { id: 3, busName: 'Agramas BM 101', from: 'Bogor', to: 'Yogyakarta', depTime: '15:00', arrTime: '01:00', price: 215000, class: 'VIP', features: ['AC', 'USB'] },
                    { id: 9, busName: 'Agramas Jawa Power', from: 'Tangerang', to: 'Surabaya', depTime: '14:00', arrTime: '02:00', price: 380000, class: 'Executive Plus', features: ['Toilet', 'Meal'] }
                ],
                filteredSchedules: [],

                findJadwal() {
                    if(!this.searchAsal || !this.searchTujuan) { alert('Lengkapi Rute!'); return; }
                    this.filteredSchedules = this.allSchedules.filter(item => item.from === this.searchAsal && item.to === this.searchTujuan);
                    this.step = 'results';
                    window.scrollTo(0,0);
                },

                goToSeats(item) {
                    this.selectedBus = item;
                    this.selectedSeats = [];
                    this.step = 'seats';
                    window.scrollTo(0,0);
                },

                toggleSeat(n) {
                    if (this.selectedSeats.includes(n)) {
                        this.selectedSeats = this.selectedSeats.filter(s => s !== n);
                    } else {
                        if (this.selectedSeats.length < 4) this.selectedSeats.push(n);
                        else alert('Maks 4 Kursi');
                    }
                },

                formatIDR(p) { return 'Rp ' + p.toLocaleString('id-ID'); }
            }
        }
    </script>
</body>
</html>
